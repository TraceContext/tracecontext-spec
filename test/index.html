<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title></title>
	<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.6.2.css">
</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
	<script type="text/javascript">
	function GetCookie(name) {
		var cookies = document.cookie ? document.cookie.split('; ') : [];
		for (var i = 0; i < cookies.length; i++) {
			var pos = cookies[i].indexOf('=');
			if (name === decodeURIComponent(cookies[i].slice(0, pos))) {
				var cookie = cookies[i].slice(pos + 1).replace(/\+/g, ' ');
				cookie = decodeURIComponent(cookie);
				return cookie;
			}
		}
	};

	function SetCookie(name, value, options) {
		var cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);
		options = options||{};
		if (typeof options.expires === 'number' || options.expires instanceof Number) {
			var milliseconds = options.expires * 86400 * 1000;
			options.expires = new Date();
			options.expires.setTime(Number(options.expires) + milliseconds);
		}
		if (options.expires)
			cookie += '; expires=' + options.expires.toUTCString();
		if (options.path)
			cookie += '; path=' + options.path;
		if (options.domain)
			cookie += '; domain=' + options.domain;
		if (options.secure)
			cookie += '; secure';
		return document.cookie = cookie;
	};

	var SERVICE_ENDPOINT = GetCookie('SERVICE_ENDPOINT');
	(function() {
		var href = window.location.href;
		var index = href.indexOf('#');
		if (index != -1) {
			SERVICE_ENDPOINT = href.slice(index + 1);
		}
		SERVICE_ENDPOINT = SERVICE_ENDPOINT || window.prompt('Please enter your endpoint URL:');
	})();
	document.title = 'W3C Distributed Tracing Test - ' + SERVICE_ENDPOINT;
	SetCookie('SERVICE_ENDPOINT', SERVICE_ENDPOINT);
	</script>
	<script src="https://code.jquery.com/qunit/qunit-2.6.2.js"></script>
	<script src="harness.js"></script>
	<script src="tests.js"></script>
</body>
</html>
